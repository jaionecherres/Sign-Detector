{% extends 'components/base.html' %}
{% block title %}{{ title1 }}{% endblock %}
{% load static %}
{% load static tailwind_tags %}

<!-- Tailwind CSS -->
{% tailwind_css %}

{% block content %}
<body class="text-secondary loading text-items font-Quicksand text-lg font-light" style="margin: 0; padding: 0; background-color: #F5F1DA; background-image: url('{% static "img/fondohome2.jpeg" %}'); background-size: cover; background-attachment: fixed;">
    <!-- Sección principal con Tailwind y fondo de imagen ajustado -->
    <section class="flex justify-center items-center h-screen bg-cover bg-center">
        <!-- Se añadió mt-[-50px] para subir el recuadro -->
        <div class="w-full max-w-[400px] p-8 bg-transparent border border-white rounded-lg backdrop-blur-md flex flex-col justify-center items-center mt-[-50px]" style="min-height: 550px;">
            <h1 class="text-3xl font-bold text-center text-gray-800 mb-10" style="color: black; font-family: 'Jomolhari', serif">Login</h1>

            <form method="POST" class="w-full">
                {% csrf_token %}

                <!-- Campo de usuario -->
                <div class="mb-4 relative">
                    <label for="{{ form.username.id_for_label }}" class="block text-sm font-medium text-gray-500">{{ form.username.label }}</label>
                    <input type="text" name="username" id="id_username"
                        class="pr-4 py-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 bg-transparent text-gray-500 placeholder-gray-500"
                        placeholder="Email" style="text-indent: 2.5rem;">
                    <span class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none" style="top: 50%;">
                        <i class="fas fa-user" style="color: black;"></i>
                    </span>
                </div>

                <!-- Campo de contraseña -->
                <div class="mb-4 relative">
                    <label for="{{ form.password.id_for_label }}" class="block text-sm font-medium text-gray-500">{{ form.password.label }}</label>
                    <input type="password" name="password" id="id_password"
                        class="pr-4 py-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 bg-transparent text-gray-500 placeholder-gray-500"
                        placeholder="Contraseña" style="text-indent: 2.5rem; width: 335px;">
                    <span class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none" style="top: 75%; transform: translateY(-50%);">
                        <i class="fas fa-lock" style="color: black;"></i>
                    </span>
                    <a href="javascript:void(0)" id="togglePassword" class="absolute right-0 pr-3 flex items-center" style="top: 75%; transform: translateY(-50%);">
                        <i id="eyeIcon" class="fas fa-eye" style="color: black;"></i>
                    </a>
                </div>

                <!-- Enlace de olvido de contraseña -->
                <div class="mb-4 text-right">
                    <a href="#" class="text-white hover:underline text-sm">¿Olvidé mi contraseña?</a>
                </div>

                <!-- Botón de inicio de sesión -->
                <div class="flex justify-center mt-2">
                    <button type="submit" class="text-white py-2 px-4 rounded-md shadow-md w-full flex items-center justify-center"
                        style="background-image: url('{% static "img/login_boton.jpg" %}'); background-size: cover; background-position: center;">
                        Login
                    </button>
                </div>
            </form>

            <!-- Texto de registro -->
            <div class="text-center mt-4">
                <p class="text-sm text-white">¿No estoy registrado? <a href="{% url 'security:auth_signup' %}" class="text-orange-500 hover:underline">Regístrate</a></p>
            </div>
        </div>
    </section>

    <script>
        const togglePassword = document.getElementById('togglePassword');
        const passwordField = document.getElementById('id_password');
        const eyeIcon = document.getElementById('eyeIcon');

        togglePassword.addEventListener('click', function () {
            const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordField.setAttribute('type', type);

            if (type === 'text') {
                eyeIcon.classList.remove('fa-eye-slash');
                eyeIcon.classList.add('fa-eye');
            } else {
                eyeIcon.classList.remove('fa-eye');
                eyeIcon.classList.add('fa-eye-slash');
            }
        });
    </script>

    <script>
        AOS.init({
            duration: 1000,
            once: true,
        });
    </script>
</body>
{% endblock %}
{% block navbar %}{% endblock %}
